<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Events in DoodlePad</title>
        <meta name="description" content="DoodlePad is an open source object-oriented graphics library for Java that is easy to learn and makes event-driven programming fun" />
        <meta name="keywords" content="graphics,java,open source,events,progamming,learn" />
        <meta name="robots" content="index,follow" />

        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto">
        <link rel="stylesheet" type="text/css" href="css/common.css">
        <link rel="stylesheet" type="text/css" href="css/hljs.css">

        <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
        <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
          ga('create', 'UA-80544484-1', 'auto');
          ga('send', 'pageview');
        </script>
    </head>
    <body>
        <h2>Events</h2>
        <hr></hr>

        <h3>Contents</h3>
        <p>
            <ul>
            <li><a href="#Introduction">Introduction</a></li>
            <li><a href="#Connecting Events and Methods with Method References">Connecting Events and Methods with Method References</a></li>
            <li><a href="#Shape Mouse Event Connector Methods">Shape Mouse Event Connector Methods</a></li>
            <li><a href="#Handling Events by Overriding Base Class Methods">Handling Events by Overriding Base Class Methods</a></li>
            <li><a href="#Overridable Shape Event Methods">Overridable Shape Event Methods</a></li>
            <li><a href="#Other Event Related Shape Methods">Other Event Related Shape Methods</a></li>
            <li><a href="#Pad Event Related Methods">Pad Event Related Methods</a></li>
            </ul>
        </p>

        <h3><a name="Introduction"></a>Introduction</h3>
        <p>
            Perhaps the most distinguishing feature of the DoodlePad library is the ease and extent to which it supports event driven programming.
            All DoodlePad Shape objects and the Pad object may be set up to invoke your custom methods in response to a wide range of user interaction.
            For example, you may want the change the fill color of one or more shapes when the user hovers over the shape or clicks the shape with the mouse.
            Alternatively, you may want to move a Shape in specific direction when the user presses one of the arrow keys.
            The Pad object implements timing functionality that raises tick events at a user-specified rate.
            You may want to invoke one or more of your custom methods each time the Pad's timer ticks, which may be accomplished using the Pad's tick event.
        </p><p>
            This ability to respond to mouse, keyboard, timer and other events allows DoodlePad to be used to develop a wide range of
            fun interactive graphics programs that are limited only by your imagination.
        </p>
        <h3><a name="Connecting Events and Methods with Method References"></a>Connecting Events and Methods with Method References</h3>
        <p>
            The simplest way to invoke a method in response to an event is to connect the event associated with a given object to one or your methods.
            The most important requirement for making this connection is to ensure that your method's signature matches what the event expects.
            For example, let's say you want to invoke a method when the user clicks on a Shape object.
            All mouse events, including the click event, requires that the method to be connected have the following four parameters in the given order:

            <table class="center">
                <tr><th>#</th><th>Type</th><th>Description</th></tr>
                <tr><td>1.</td><td>Shape</td><td>The Shape object that initiated the mouse event</td></tr>
                <tr><td>2.</td><td>double</td><td>The x-coordinate at which the event occurred</td></tr>
                <tr><td>3.</td><td>double</td><td>The y-coordinate at which the event occurred</td></tr>
                <tr><td>4.</td><td>int</td><td>A number identifying the mouse button used</td></tr>
            </table>
        </p>
        <p>
            For example, the following method may be invoked by a mouse event because it implements the necessary four parameter types in the proper order.
        </p>
        <pre><code class="java">public void onClick(Shape shp, double, x, double y, int button) {
    System.out.println("The mouse was clicked at coordinates (" + x + "," + y + ")");
}</code></pre>

        <p>
            Every Shape object in DoodlePad inherits a set of methods used to attach mouse events to a suitable method - one method for each mouse event.
            Each Shape method takes a single argument: a reference to the method to be invoked when the event occurs.
            <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html" target="_blank">Method references</a>
            were added to Java in version 8. This is why Java 8 is required by DoodlePad.
            Method references are constructed using the <span class="code">::</span> binary operator.
            On the left side of the operator is the name of a class or object that implements a method,
            and on the right side the method to reference.
        </p>
        <p>
            As an example, let's say your class implements the previous <span class="code">onClick</span> method and you would like to invoke
            this method when the mouse clicks an Oval Shape object, a reference to which was saved as an instance variable named <span class="code">myOval</span>.
            The following statement establishes this connection, so that when <span class="code">myOval</span> is clicked the
            <span class="code">onClick</span> method implemented by <span class="code">this</span> will be invoked.
        </p>
        <pre><code class="java">myOval.setMouseClickedHandler( this::onClick );</code></pre>
        <p>
            The inherited <a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#setMouseClickedHandler-doodlepad.Shape.ShapeMouseEventHandler-" target="_blank">setMouseClickedHandler(...)</a>
            method is what is used to establish the connection for click events.
        </p>
        <p>
            Following is a complete program demonstrating event handing in DoodlePad using <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html" target="_blank">method references</a>.
        </p>
        <pre><code class="java">import doodlepad.*;

public class PushButton {
    private RoundRect shpButton;    // Button Shape
    private boolean isOn;           // Button state

    public PushButton() {
        // Create button shape and initialize
        shpButton = new RoundRect(100, 100, 75, 50, 20, 20);
        shpButton.setFillColor(200);

        // Starts off
        isOn = false;

        // Set button click event handler method
        shpButton.setMouseClickedHandler( this::onClicked );
    }

    private void onClicked(Shape shp, double x, double y, int button) {
        // Toggle button state
        isOn = !isOn;

        // Set button fill color based on state
        if (isOn) {
            shpButton.setFillColor(0, 255, 0);
        } else {
            shpButton.setFillColor(200);
        }
    }

    public static void main(String[] args) {
        // Create a new PushButton
        PushButton myPushButton = new PushButton();
    }
}</code></pre>

        <img src="images/pushbutton1.png" style="float:right;padding:10px;">
        <p>
            In this example we implement a simple graphical toggle button class named PushButton.
            For the button graphic we use a <a href="http://doodlepad.org/dist/javadoc/doodlepad/RoundRect.html" target="_blank">RoundRect</a> Shape object.
            The PushButton constructor creates the RoundRect object and initializes its fill colors to gray.
            The PushButton class tracks its state using an <span class="code">isOn</span> boolean instance variable.
            The class is initialized with <span class="code">isOn = false</span> implying the button is initially off.
            The constructor also uses the <span class="code">setMouseClickedHandler</span>
            method to indicate that the object's <span class="code">onClicked</span> method should be invoked when the RoundRect shape is clicked.
            The <span class="code">onClicked</span> method toggles the value of <span class="code">isOn</span>
            and then resets the RoundRect fill color based on the current PushButton state.
            When the RoundRect is clicked, the PushButton object state is toggled and the RoundRect fill color changes to green,
            indicating that the button was pressed.
            A second click toggles PushButton off and sets the RoundRect fill color back to gray.
        </p>
        <p>
            The image on the right shows the output from running this example program and clicking the RoundRect Shape once.
        </p>
        <h3><a name="Shape Mouse Event Connector Methods"></a>Shape Mouse Event Connector Methods</h3>
        <p>
            A wide variety of mouse events may be handled in a similar manner.
            Following is a list of all methods used to connect a mouse event with a Shape.
            Each method is used to associate a particular mouse event with a custom method.
            Each of the following methods takes a method reference as its only parameter.
            Each method reference must identify a method with a signature that matches the previously listed
            four parameter types in the given order, otherwise the compiler will complain.

        <table class="center">
            <tr><th>Method</th><th>Description</th></tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#setMouseClickedHandler-doodlepad.Shape.ShapeMouseEventHandler-" target="_blank">setMouseClickedHandler</a></td>
                <td>Set a method to be invoked when the mouse is clicked on a Shape.
                    A mouse-click event occurs when the mouse is pressed and released at the same location.
                </td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#setMouseDoubleClickedHandler-doodlepad.Shape.ShapeMouseEventHandler-" target="_blank">setMouseDoubleClickedHandler</a></td>
                <td>Set a method to be invoked when the mouse is double-clicked on a Shape.
                    A mouse-double-clicked event occurs when the mouse is pressed and released at the same location twice in succession.
                </td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#setMousePressedHandler-doodlepad.Shape.ShapeMouseEventHandler-" target="_blank">setMousePressedHandler</a></td>
                <td>
                    Set a method to be invoked when the mouse is pressed on a Shape.
                    A mouse-pressed event occurs when the mouse button is pressed while over a Shape.
                </td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#setMouseReleasedHandler-doodlepad.Shape.ShapeMouseEventHandler-" target="_blank">setMouseReleasedHandler</a></td>
                <td>
                    Set a method to be invoked when the mouse is released on a Shape.
                    A mouse-released event occurs when the mouse button is released while over a Shape.
                </td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#setMouseMovedHandler-doodlepad.Shape.ShapeMouseEventHandler-" target="_blank">setMouseMovedHandler</a></td>
                <td>
                    Set a method to be invoked when a mouse is moved on a Shape.
                    A mouse-moved event occurs when the mouse is moved over a Shape while the mouse button is not pressed.
                </td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#setMouseDraggedHandler-doodlepad.Shape.ShapeMouseEventHandler-" target="_blank">setMouseDraggedHandler</a></td>
                <td>
                    Set a method to be invoked when the mouse is dragged on a Shape.
                    A mouse-dragged event occurs when the mouse is moved over a Shape while the mouse button is pressed.
                </td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#setMouseEnteredHandler-doodlepad.Shape.ShapeMouseEventHandler-" target="_blank">setMouseEnteredHandler</a></td>
                <td>
                    Set a method to be invoked when the mouse enters a Shape.
                    A mouse-entered event occurs when the mouse is moved from a location outside the bounds of a Shape to a location within the bounds of a Shape.
                </td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#setMouseExitedHandler-doodlepad.Shape.ShapeMouseEventHandler-" target="_blank">setMouseExitedHandler</a></td>
                <td>
                    Set a method to be invoked when the mouse exits a Shape.
                    A mouse-exited event occurs when the mouse is moved from a location within the bounds of a Shape to a location outside the bounds of a Shape.
                </td>
            </tr>
        </table>
        </p>
        <h3><a name="Handling Events by Overriding Base Class Methods"></a>Handling Events by Overriding Base Class Methods</h3>
        <p>
            Another way to associate Shape events with custom methods is to subclass <span class="code">Shape</span>
            and override the appropriate base class method with an implementation to be invoked when the event fires.
            The Shape base class implements a series of placeholder methods that do nothing,
            but exist purely to be overridden by a subclass when custom behavior is desired.
            This represents an alternative to the method reference approach for setting up custom event handlers,
            and may be used when comfortable with the concept of inheritance.
        </p>
        <p>
            The <span class="code">Shape</span> implements a series of "on" methods: one for each mouse event.
            For example, Shape implements a method named <span class="code">onMouseClicked</span> which is invoked
            when a Shape is clicked with the mouse. The signature of this method as well as all other methods that
            correspond with mouse events share a common signature with the types: <span class="code">double</span>, <span class="code">double</span> and <span class="code">int</span>.
            These are the mouse event x and y coordinates and an integer identifying the mouse button in use.
            These parameters are identical to the signature of methods used in the method reference approach,
            minus the first parameter identifying the Shape object.
        </p>
        <p>
            The following example illustrates an alternate way to implement the previous PushButton class.
            In this case the <span class="code">PushButton</span> class extends the <span class="code">RoundRect</span> Shape class.
            the <span class="code">mouseClicked</span> event is handled by overriding the <span class="code">onMouseClicked()</span> method.
            The remaining logic for this class is identical to the previous example.
        </p>
        <pre><code class="java">import doodlepad.*;

public class PushButton extends RoundRect {
    private boolean isOn;   // Button state

    public PushButton(double x, double y, double w, double h) {
        super(x, y, w, h, 20, 20);

        // Initialize the button
        this.setFillColor(200);

        // Starts off
        isOn = false;
    }

    @Override
    public void onMouseClicked(double x, double y, int button) {
        // Toggle button state
        isOn = !isOn;

        // Set button fill color based on state
        if (isOn) {
            this.setFillColor(0, 255, 0);
        } else {
            this.setFillColor(200);
        }
    }

    public static void main(String[] args) {
        // Create a new PushButton
        PushButton myPushButton = new PushButton(100, 100, 75, 50);
    }
}
        </code></pre>

        <h3><a name="Overridable Shape Event Methods"></a>Overridable Shape Event Methods</h3>
        <p>
            As mentioned, Shape implements one overridable method for each mouse event.
            The following table lists all methods that may be overridden in order to handle a triggered mouse event.
        </p>
        <p>
        <table class="center">
            <tr><th>Method</th><th>Description</th></tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#onMouseClicked-double-double-int-" target="_blank">onMouseClicked</a></td>
                <td>Override to handle a mouse-click event</td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#onMouseDoubleClicked-double-double-int-" target="_blank">onMouseDoubleClicked</a></td>
                <td>Override to handle a mouse-double-click event.</td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#onMousePressed-double-double-int-" target="_blank">onMousePressed</a></td>
                <td>Override to handle a mouse-pressed event - when a mouse button is depressed.</td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#onMouseReleased-double-double-int-" target="_blank">onMouseReleased</a></td>
                <td>Override to handle a mouse-released event - when a mouse button is released after being depressed.</td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#onMouseMoved-double-double-int-" target="_blank">onMouseMoved</a></td>
                <td>Override to handle a mouse-moved event. This occurs when the mouse is moved over a Shape while no buttons are depressed.</td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#onMouseDragged-double-double-int-" target="_blank">onMouseDragged</a></td>
                <td>Override to handle a mouse-dragged event. This occurs when the mouse is moved over a Shape while simultaneously holding a mouse button down.</td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#onMouseEntered-double-double-int-" target="_blank">onMouseEntered</a></td>
                <td>Override to handle a mouse-entered event. This occurs when the mouse moves over a Shape from another Shape or the Pad.</td>
            </tr>
            <tr>
                <td><a href="http://doodlepad.org/dist/javadoc/doodlepad/Shape.html#onMouseExited-double-double-int-" target="_blank">onMouseExited</a></td>
                <td>Override to handle a mouse-exited event. This occurs when the mouse moves off a Shape on to another Shape or the Pad.</td>
            </tr>
        </table>
        </p>

        <h3><a name="Other Event Related Shape Methods"></a>Other Event Related Shape Methods</h3>
        <ul>
            <li>setEventsEnabled</li>
            <li>onSelectionChanged</li>
            <li>setSelectionChangedHandler</li>
        </ul>

<h3><a name="Pad Event Related Methods"></a>Pad Event Related Methods</h3>
<ul>
    <li>setEventsEnabled</li>
    <li>addKeyListener/removeKeyListener</li>
    <li>addMouseListener/removeMouseListener</li>
    <li>addTickListener/removeTickListener</li>
    
    <li>onKeyPressed</li>
    <li>onKeyReleased</li>
    <li>onKeyTyped</li>
    <li>setKeyPressedHandler</li>
    <li>setKeyReleasedHandler</li>
    <li>setKeyTypedHandler</li>
    
    <li>onTick</li>
    <li>setTickHandler</li>
    
    <li>onMouseClicked</li>
    <li>onMouseDoubleClicked</li>
    <li>onMouseDragged</li>
    <li>onMouseEntered</li>
    <li>onMouseExited</li>
    <li>onMouseMoved</li>
    <li>onMousePressed</li>
    <li>onMouseReleased</li>
    <li>setMouseClickedHandler</li>
    <li>setMouseDoubleClickedHandler</li>
    <li>setMouseDraggedHandler</li>
    <li>setMouseEnteredHandler</li>
    <li>setMouseExitedHandler</li>
    <li>setMouseMovedHandler</li>
    <li>setMousePressedHandler</li>
    <li>setMouseReleasedHandler</li>

    <li>onClientClosed</li>
    <li>onClientError</li>
    <li>onClientInfo</li>
    <li>onClientOpened</li>
    <li>onClientReceived</li>
    <li>onServerError</li>
    <li>onServerInfo</li>
    <li>onServerStarted</li>
    <li>onServerStopped</li>
</ul>
    </body>
</html>
